<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>JS Intro</title>

    <link rel="stylesheet" href="reveal.js/css/reveal.min.css">
	<!--<link rel="stylesheet" href="reveal.js/css/print/pdf.min.css"> -->

	<link rel="stylesheet" href="reveal.js/css/theme/sky.css" id="theme">

	<!-- For syntax highlighting -->
	<link rel="stylesheet" href="external/zenburn.css">

    <link rel="stylesheet" href="external/little-console.css" id="theme">
	<link rel="stylesheet" href="custom.css" id="theme">
	<link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />

</head>

<body>

<div class="reveal">
<div class="slides">

<section>
<span data-markdown>
<script type="text/template">
# Intro to JavaScript

## (ECMaScript V) 

</script>
</span>
<span id="antimail"></span>
<a id="forkme" href="https://github.com/greenify/js-intro"><img style="position: absolute; top: 0; right: 0; border: 0;" src="img/forkme.png" alt="Fork me on GitHub" data-canonical-src="img/forkme.png"></a>

<script type="text/javascript">
// simple spam blocker
function antimail(name,domain,tld,subject){
	var a = document.createElement("a");
	var mail = name + "@" + domain + "." + tld;
	a.href = "mailto:" + mail;
	a.textContent = mail;
	return a;
}
document.getElementById("antimail").appendChild(antimail("seb","wilzba", "ch"));
// make fork me absolute
document.body.appendChild(document.getElementById("forkme"));
</script>
</section>

<section>
<h2>Writing JS code<h2>

<a class="jsbin-embed" href="https://jsbin.com/gikasi/2/embed?html,console&height=500px">JS Bin</a>

</section>


<section data-markdown data-state="rev-bg-red"><script type="text/template">
## Simple gotchas

* use `var`
* execution is single-threaded 
</script></section>

<section>
<h2>JS is built for the DOM</h2>
<a class="jsbin-embed" href="https://jsbin.com/ziboxa/1/embed?js,output&height=500px">JS Bin</a>
</section>

<section>
	<h2>Functions are first-class objects</h2>
	<a class="jsbin-embed" href="https://jsbin.com/nuxeli/3/embed?js,console&height=500px">JS Bin</a>
</section>


<section data-markdown><script type="text/template">
## Semicolon insertion
  
```
function(){
	return
	1 + 2
}
```

➙ 

```
function(){
	return;
	1 + 2;
}
```

➙ always use <span style="color:red">`;`</span>

</script></section>

<section data-markdown><script type="text/template">
## Block-less JS

```
if (true)
 doThis()
 doThat()
```

➙

```
if (true) {
 doThis();
}
doThat();
```

</script></section>


<section data-markdown><script type="text/template">
## Data types

```
var num = 42;                               
var num2 = x * 42;                           
var str = "BioJS";                      
var arr = ["BioJS", "is", "aweseome"];           
var dict  = {name:"BioJS", url:"www.biojs.net"};    
```

Access

* `arr[index]`
* `dict.key` or `dict[key]`


</script></section>

<section data-markdown><script type="text/template">
## JSON

JavaScript Object Notation  
  
* `JSON.parse(obj)`
* `JSON.stringify(obj)`

```
"course": {
	"chair": "RostLab",
	teachers: ["Tatyana Goldberg", "Juan Miguel Cejuela"],
	"location": {
		"postcode": "85748",
		"city": "Garching"
	}
}
```
</script></section>

<section><div data-markdown><script type="text/template">
## Javascript type table 

```
Value               Class      Type
-------------------------------------
"foo"               String     string
new String("foo")   String     object
1.2                 Number     number
new Number(1.2)     Number     object
true                Boolean    boolean
new Boolean(true)   Boolean    object
new Date()          Date       object
new Error()         Error      object
[1,2,3]             Array      object
new Array(1, 2, 3)  Array      object
new Function("")    Function   function
/abc/g              RegExp     object (function in Nitro/V8)
new RegExp("meow")  RegExp     object (function in Nitro/V8)
{}                  Object     object
new Object()        Object     object
```

</script></div>
<div class=little-console></div>
</section>

<section> <div data-markdown>
<script type="text/template">
## Type coersion 

```
'' == '0'          // false
0 == ''            // true
0 == '0'           // true

false == 'false'   // false
false == '0'       // true
true == '1'        // true

false == undefined // false
false == null      // false
null == undefined  // true

' \t\r\n ' == 0    // true
```

</script></div>

<div style="text-align: left">
	➙ always use <span style="color:green"><code>===</code></span>
</div>
<br />  

<div data-markdown>
`==` is weakly-typed and __slower__ than `===`
</div>
<div class=little-console></div>
</section>



<section data-markdown><script type="text/template">
## Iterators

_Simple_ `for` _loop_

```
for(var i = 0; i < arr.length; i++){
	console.log(arr[i]);
}
```

_forEach_

```
arr.forEach(function(entry){
	console.log(entry);
});
```

_for-in_

```
for(var key in arr){
	console.log(arr[key]);
}
```

</script></section>
<section data-markdown><script type="text/template">

### Attention: 
  
<br>

_for-in_

* slow
* enumerates all the properties on the prototype chain 
* only use it for dicts

```
if (arr.hasOwnProperty(key){

}
```

</script></section>


<section>
	<h2>Iterators</h2>
	<a class="jsbin-embed" href="https://jsbin.com/gexesu/1/embed?js,console&height=500px">JS Bin</a>
</section>

<section>
	<h2>Other control constructs</h2>
	<a class="jsbin-embed" href="https://jsbin.com/kewasi/1/embed?js,console&height=500px">JS Bin</a>
</section>


<!-------------- chapter: PROTOTYPING & Scope ---------->

<section>
	<h2>Closures</h2>
	<a class="jsbin-embed" href="https://jsbin.com/xexuxi/1/embed?js,console&height=500px">JS Bin</a>
</section>


<section>
	<h2>Scope</h2>
	<a class="jsbin-embed" href="https://jsbin.com/vofico/1/embed?js,console&height=500px">JS Bin</a>
</section>

<section data-markdown><script type="text/template">
## Scope tricks  
   
* bind the scope

```
method.bind(instance);
```
CS / ES6:  `=>`
 
* save the scope

```
function(){
	var self = this;
	foo.on("click", function(evt){
		console.log(this,self);
	}
}
```  
</script></section>

<section data-markdown><script type="text/template">
## Hoisting  
  
```
x = 5; // Assign 5 to x

elem = document.getElementById("demo"); // Find an element 
elem.innerHTML = x;                     // Display x in the element

var x; // Declare x
```  
  
(only for `var` declarations)
</script></section>

<section>
	<h2>Prototyping</h2>
	<a class="jsbin-embed" href="https://jsbin.com/zanava/1/embed?js,console&height=500px">JS Bin</a>
</section>

<section>
	<h2>Mixins</h2>
	<a class="jsbin-embed" href="https://jsbin.com/qafici/1/embed?js,console&height=500px">JS Bin</a>
</section>

<!-------- chapter: minimal event intro  ----------------->

<section data-markdown data-background="#545454">
</section>

<section>
<a class="jsbin-embed" href="https://jsbin.com/yaqawi/1/embed?js,output">JS Bin</a>
</section>

<section>
<div data-markdown><script type="text/template">
##  Events

* trickling = capturing: root -> leaf
* __bubbling__: leaf -> root
   
<img src=img/bubbling.jpg />
<span style="font-size: 0.5em; display:block">&copy; yuiblog.com</span>
</script></div>
</section>



</div>
</div>

<script src=external/little-console.js></script>
<script>
  // little console from @timruffles
  function showConsoles() {

    // show all consoles, and register 'cheats'
    var cheats = [];

    ;[].forEach.call(document.querySelectorAll(".little-console"),function(el) {
      var cmds = new LittleConsole.Commands;
      var console = new LittleConsole({el: el,commands: cmds});
      var slide = el.parentElement;
      var cheat = slide.querySelector("[type=cheat]");
      if(!cheat) return;
      cheats.push({
        console: console,
        slide: slide,
        src: cheat.innerHTML,
      });
    });

    // listen for 'cheat code' - ALT + C, and fill input
    var C = 67;
    document.body.addEventListener("keyup",function(evt) {
      if(evt.keyCode !== C || !evt.altKey) return;
      var slide = Reveal.getCurrentSlide();
      cheats.forEach(function(setup) {
        if(setup.slide !== slide) return;
        setup.console.setCommand(setup.src);
      });

    });

  }
</script>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.min.js"></script>
<script>
  Reveal.initialize({

    // Display controls in the bottom right corner
    controls: false,

    // Display a presentation progress bar
    progress: true,

    // Push each slide change to the browser history
    history: true,

    // Enable keyboard shortcuts for navigation
    keyboard: true,

    // Enable the slide overview mode
    overview: true,

    // Vertical centering of slides
    center: false,

    // Loop the presentation
    loop: false,

    // Change the presentation direction to be RTL
    rtl: false,

    // Number of milliseconds between automatically proceeding to the
    // next slide, disabled when set to 0, this value can be overwritten
    // by using a data-autoslide attribute on your slides
    autoSlide: 0,

    // Enable slide navigation via mouse wheel
    mouseWheel: false,

    // Apply a 3D roll to links on hover
    rollingLinks: false,

    // Transition style
    transition: 'fade', // default/cube/page/concave/zoom/linear/fade/none

    dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },

        // Interreveal.js/pret Markdown in <section> elements
        { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'reveal.js/plugin/markdown/markdown.js', 
          condition: function() { return !!document.querySelector( '[data-markdown]' ); },
          callback: function() {
            showConsoles();
          } },

        // Syntareveal.js/x highlight for <code> elements
        { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom reveal.js/in and out with Alt+click
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speakreveal.js/er notes
        //{ src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remotreveal.js/e control your reveal.js presentation using a touch device
        // { src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]

  });
</script>
<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
if( window.location.search.match( /print-pdf/gi ) ) {
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet'; //link.type = 'text/css'; link.media = 'print';
  link.href = 'reveal.js/css/print/pdf.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
  document.body.style.background = "white";
}
</script>
<script src="https://drt35l4oshkgr.cloudfront.net/js/embed.js"></script>
<script src="external/underscore.js"></script>
</body>
